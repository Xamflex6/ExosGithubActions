name: Use Repository Secret

on:
  workflow_dispatch:

jobs:
  show-secret:
    runs-on: ubuntu-latest
    steps:
      - name: Use secret in environment
        env:
          MYSECRET: ${{ secrets.MySecret }}
        run: |
          echo "Secret is set (masked): $MYSECRET"
          echo "Secret length:" $(echo -n "$MYSECRET" | wc -c)
      - name: Use secret without exposing value
        env:
          MYSECRET: ${{ secrets.MySecret }}
        run: |
          echo "SHA256 of secret:" $(printf "%s" "$MYSECRET" | sha256sum | cut -d' ' -f1)
